<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Violation Report</title>

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="css/style2.css">

</head>
<!-- Image Preview Modal -->
<div id="imgModal" class="img-modal">
  <span class="img-close" onclick="closeImage()">‚úñ</span>
  <img id="imgModalContent">
</div>
<body>

<script>
/* üîí Block direct access without login */
if (sessionStorage.getItem("LOGGED_IN") !== "YES") {
  window.location.replace("index.html");
}
</script>

<div class="form-container">

  <!-- HEADER -->
  <div class="form-header">
    <h1>Violation Report</h1>
  </div>

  <hr>

  <!-- FORM -->
  <form id="violation">

    <!-- =============================
         EMPLOYEE DETAILS + EXTRA INFO
         ============================= -->
    <div class="details-grid">

      <!-- LEFT SIDE : EMPLOYEE DETAILS -->
      <div class="section employee-left">

        <h3>Employee Details</h3>

        <label>Search Employee Number</label>
        <div class="emp-search-wrapper">
          <input type="number" id="empno" name="empno" data-maxdigits="4">
          <button
            type="button"
            id="searchEmpBtn"
            class="search"
            disabled>
            üîç Search
          </button>
        </div>

        <div id="empStatus" style="margin-top:6px;font-size:13px;"></div>

        <!-- THIS IS USED BY JS ‚Äì DO NOT REMOVE -->
        <div id="employeeInfo" class="section"></div>
        <div id="offenceCount" style="margin:10px 0;font-weight:bold;"></div>

      </div>

      <!-- RIGHT SIDE : ADDITIONAL DETAILS -->
      <div class="section employee-right">

        <h3>Offence Images</h3>
         <div id="offenceImages"></div>

      </div>

    </div>
    <!-- END DETAILS GRID -->

    <!-- =============================
         OFFENCE HISTORY (UNCHANGED)
         ============================= -->
    <div id="offenceSection" class="section">
      <h3>Offence History</h3>
      <div class="table-wrapper">
     <div id="offenceTable"></div>
     </div>
    </div>

  </form>

  <!-- FOOTER BUTTON -->
  <button type="button" onclick="goBack()">
    ‚¨Ö Back to Menu
  </button>

</div>

<script>
function goBack() {
  window.location.replace("menu.html");
}
</script>

<!-- YOUR EXISTING JS -->
<script src="js/violation.js" defer></script>

</body>
</html>
